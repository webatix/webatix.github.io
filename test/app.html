<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta http-equiv='X-UA-Compatible' content='ie=edge'>
  <title>The crypto-subscriptions DApp</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.3.3/dist/web3.min.js"></script>
  <script src="https://unpkg.com/moralis@0.0.9/dist/moralis.js"></script>
  <script src="https://unpkg.com/@maticnetwork/maticjs@latest/dist/matic.js"></script>
</head>
<body>
  <div id="startupContent">
    The DApp is loading ...<br><br>
    On stuck here just clear the browser's cache and reload the page.
  </div>
  <template id="appTemplate">
    <kor-page flat theme="light" flex-direction="column">
      <div id="pageNotification"></div>
      <kor-app-bar slot="top" label="The crypto-subscriptions DApp" logo="https://webatix.github.io/test/xrp.svg">
        <kor-icon id="addTransaction" slot="functions" icon="credit_card" button style="display: none"></kor-icon>
        <kor-icon id="switchChain" slot="functions" icon="timeline" button style="display: none"></kor-icon>
        <kor-icon id="depositEthers" slot="functions" icon="shopping_basket" button style="display: none"></kor-icon>
        <kor-icon id="deployContract" slot="functions" icon="dashboard_customize" button></kor-icon>
        <kor-icon id="createSubscriptionProduct" slot="functions" icon="book_online" button></kor-icon>
        <kor-icon id="subscribe" slot="functions" icon="model_training" button></kor-icon>
        <kor-icon id="appMenu" slot="functions" icon="menu" button></kor-icon>
      </kor-app-bar>
      <kor-tooltip id="addTransactionTooltip" target="#addTransaction" position="left">Add a transaction</kor-tooltip>
      <kor-tooltip id="appMenuTooltip" target="#appMenu" position="left">DApp menu</kor-tooltip>
      <kor-popover id="appMenuPopover" target="#appMenu" position="left" label="DApp menu" icon="menu">
        <kor-menu-item id="loginMenuItem" label="Login using Metamask" icon="person" toggle="false"></kor-menu-item>
        <kor-menu-item id="prefsMenuItem" label="Preferences" icon="work" toggle="false"></kor-menu-item>
      </kor-popover>
      <kor-grid columns="1" rows="10">
        <div id="summaryContent" grid-rows="1" style="display: block">
          <kor-icon class="heading_icon" icon="account_balance" color="var(--text-1)" size="m"></kor-icon>
          <kor-card class="heading_tools" flat>
            <kor-avatar label="User" info="User account"></kor-avatar>
          </kor-card>
        </div>
        <div id="summaryDetails" grid-rows="9" style="display: block"></div>
        <div id="transactionsContent" grid-rows="1" style="display: none">
          <kor-icon class="heading_icon" icon="account_balance_wallet" color="var(--text-1)" size="m"></kor-icon>
          <kor-card class="heading_tools" flat>
            <kor-button id="transactionsFilterButton" label="Set up a display filter" color="Primary"></kor-button>
          </kor-card>
        </div>
        <div id="transactionsDetails" grid-rows="9" style="display: none"></div>
        <div id="scheduleContent" grid-rows="1" style="display: none">
          <kor-icon class="heading_icon" icon="schedule" color="var(--text-1)" size="m"></kor-icon>
          <kor-card class="heading_tools" flat>
            <kor-button class="heading_tools" id="scheduleAddButton" label="Add a payment" color="Primary"></kor-button>
          </kor-card>
        </div>
        <div id="scheduleDetails" grid-rows="9" style="display: none"></div>
      </kor-grid>
      <kor-nav-bar slot="bottom">
        <kor-tabs orientation="horizontal">
        </kor-tabs>
      </kor-nav-bar>
    </kor-page>
    <kor-modal id="addTransactionModal" icon="credit_card" label="Add a transaction" theme="light">
      <div id="addTransactionModalNotification"></div>
      <kor-card flat>
        <kor-grid columns="1" fit-content>
          <kor-card id="addTransactionModalContent" grid-cols="1" flat></kor-card>
        </kor-grid>
      </kor-card>
      <kor-button id="addTransactionModalButton" label="Send" color="Primary" slot="footer"></kor-button>
    </kor-modal>
    <kor-modal id="transactionDetailsModal" icon="list" label="The transaction's details" theme="light">
      <kor-card flat></kor-card>
    </kor-modal>
    <kor-modal id="addScheduleModal" icon="today" label="Add a recurrent payment" theme="light">
      <div id="addScheduleModalNotification"></div>
      <kor-card flat>
        <kor-grid columns="1" fit-content>
          <kor-card id="addScheduleModalTransactionContent" grid-cols="1" flat></kor-card>
          <kor-card id="addScheduleModalScheduleContent" grid-cols="1" flat></kor-card>
        </kor-grid>
      </kor-card>
      <kor-button id="addScheduleModalButton" label="Add" color="Primary" slot="footer"></kor-button>
    </kor-modal>
    <kor-modal id="depositEthersModal" icon="shopping_basket" label="Deposit Ethers to get some Matic" theme="light">
      <div id="depositEthersModalNotification"></div>
      <kor-card flat>
        <kor-input id="depositEthersModalValue" type="number" min=0></kor-input>
      </kor-card>
      <kor-button id="depositEthersModalButton" label="Deposit" color="Primary" slot="footer"></kor-button>
    </kor-modal>
    <dapp-deploy-contract></dapp-deploy-contract>
    <dapp-create-subscription-product></dapp-create-subscription-product>
    <dapp-subscribe></dapp-subscribe>
  </template>
  <!-- The scripts and styles below are designed to be at the end of the body -->
  <link rel="stylesheet" type="text/css" href="./bundle.css"/>
  <script src='./bundle.js'></script>
</body>
</html>
